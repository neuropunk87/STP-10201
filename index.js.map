{"version":3,"file":"index.js","sources":["../src/js/burgerMenu.js","../src/js/headerOffset.js"],"sourcesContent":["const openBtnEl = document.querySelector('[data-action=\"open\"]');\nconst closeBtnEl = document.querySelector('[data-action=\"close\"]');\nconst burgerMenuEl = document.querySelector('[data-visible]');\n\nopenBtnEl.addEventListener('click', e => {\n  burgerMenuEl.dataset.visible = 'open';\n  handleModal();\n});\n\ncloseBtnEl.addEventListener('click', e => {\n  burgerMenuEl.dataset.visible = 'close';\n  handleModal();\n});\n\nfunction handleModal() {\n  const isOpen = burgerMenuEl.dataset.visible === 'open';\n  openBtnEl.style.display = isOpen ? 'none' : 'block';\n  closeBtnEl.style.display = isOpen ? 'flex' : 'none';\n  document.body.style.overflow = isOpen ? 'hidden' : 'auto';\n}\n","(function initHeaderOffset() {\n  const header = document.querySelector('header');\n  if (!header) return;\n\n  const EXTRA_SPACE = 16;\n  let lastHeight = 0;\n  let rafId = null;\n  let userScrolled = false;\n\n  function setVar(h) {\n    document.documentElement.style.setProperty('--header-offset', h + 'px');\n  }\n\n  function measure(force = false) {\n    const h = Math.round(header.getBoundingClientRect().height);\n    if (force || h !== lastHeight) {\n      lastHeight = h;\n      setVar(h);\n    }\n  }\n\n  function multiPass(pass = 2) {\n    measure(true);\n    if (pass > 0) requestAnimationFrame(() => multiPass(pass - 1));\n  }\n  multiPass();\n\n  window.addEventListener(\n    'scroll',\n    () => {\n      userScrolled = true;\n    },\n    { passive: true }\n  );\n\n  window.addEventListener('resize', () => {\n    if (rafId) cancelAnimationFrame(rafId);\n    rafId = requestAnimationFrame(() => {\n      const prev = lastHeight;\n      measure();\n      if (location.hash && lastHeight !== prev) {\n        adjustHashPosition();\n      }\n    });\n  });\n\n  if ('ResizeObserver' in window) {\n    const ro = new ResizeObserver(() => {\n      const prev = lastHeight;\n      measure();\n      if (location.hash && lastHeight !== prev) adjustHashPosition();\n    });\n    ro.observe(header);\n  }\n\n  if (document.fonts && document.fonts.ready) {\n    document.fonts.ready\n      .then(() => {\n        const prev = lastHeight;\n        measure(true);\n        if (location.hash && lastHeight !== prev) adjustHashPosition();\n      })\n      .catch(() => {});\n  }\n\n  window.addEventListener('load', () => {\n    const prev = lastHeight;\n    measure(true);\n    if (location.hash && lastHeight !== prev) adjustHashPosition();\n  });\n\n  function adjustHashPosition() {\n    if (!location.hash || userScrolled) return;\n    const target = document.querySelector(location.hash);\n    if (!target) return;\n\n    const rect = target.getBoundingClientRect();\n    const delta = rect.top - (lastHeight + EXTRA_SPACE);\n    if (Math.abs(delta) > 1) {\n      window.scrollBy({ top: delta, left: 0, behavior: 'auto' });\n    }\n  }\n\n  if (location.hash) {\n    setTimeout(() => adjustHashPosition(), 160);\n  }\n\n  document.addEventListener('click', e => {\n    const a = e.target.closest('a[href^=\"#\"]');\n    if (!a) return;\n    const hash = a.getAttribute('href');\n    if (hash.length <= 1) return;\n\n    const target = document.querySelector(hash);\n    if (!target) return;\n\n    e.preventDefault();\n    userScrolled = false;\n\n    setTimeout(() => {\n      measure();\n      const rect = target.getBoundingClientRect();\n      const delta = rect.top - (lastHeight + EXTRA_SPACE);\n      window.scrollBy({ top: delta, left: 0, behavior: 'smooth' });\n      history.replaceState(null, '', hash);\n    }, 50);\n  });\n})();\n"],"names":["openBtnEl","closeBtnEl","burgerMenuEl","e","handleModal","isOpen","header","EXTRA_SPACE","lastHeight","rafId","userScrolled","setVar","h","measure","force","multiPass","pass","prev","adjustHashPosition","target","delta","a","hash"],"mappings":"0uBAAA,MAAMA,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAa,SAAS,cAAc,uBAAuB,EAC3DC,EAAe,SAAS,cAAc,gBAAgB,EAE5DF,EAAU,iBAAiB,QAASG,GAAK,CACvCD,EAAa,QAAQ,QAAU,OAC/BE,GACF,CAAC,EAEDH,EAAW,iBAAiB,QAASE,GAAK,CACxCD,EAAa,QAAQ,QAAU,QAC/BE,GACF,CAAC,EAED,SAASA,GAAc,CACrB,MAAMC,EAASH,EAAa,QAAQ,UAAY,OAChDF,EAAU,MAAM,QAAUK,EAAS,OAAS,QAC5CJ,EAAW,MAAM,QAAUI,EAAS,OAAS,OAC7C,SAAS,KAAK,MAAM,SAAWA,EAAS,SAAW,MACrD,ECnBC,UAA4B,CAC3B,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9C,GAAI,CAACA,EAAQ,OAEb,MAAMC,EAAc,GACpB,IAAIC,EAAa,EACbC,EAAQ,KACRC,EAAe,GAEnB,SAASC,EAAOC,EAAG,CACjB,SAAS,gBAAgB,MAAM,YAAY,kBAAmBA,EAAI,IAAI,CACvE,CAED,SAASC,EAAQC,EAAQ,GAAO,CAC9B,MAAMF,EAAI,KAAK,MAAMN,EAAO,sBAAqB,EAAG,MAAM,GACtDQ,GAASF,IAAMJ,KACjBA,EAAaI,EACbD,EAAOC,CAAC,EAEX,CAED,SAASG,EAAUC,EAAO,EAAG,CAC3BH,EAAQ,EAAI,EACRG,EAAO,GAAG,sBAAsB,IAAMD,EAAUC,EAAO,CAAC,CAAC,CAC9D,CACDD,IAEA,OAAO,iBACL,SACA,IAAM,CACJL,EAAe,EAChB,EACD,CAAE,QAAS,EAAM,CACrB,EAEE,OAAO,iBAAiB,SAAU,IAAM,CAClCD,GAAO,qBAAqBA,CAAK,EACrCA,EAAQ,sBAAsB,IAAM,CAClC,MAAMQ,EAAOT,EACbK,IACI,SAAS,MAAQL,IAAeS,GAClCC,GAER,CAAK,CACL,CAAG,EAEG,mBAAoB,QACX,IAAI,eAAe,IAAM,CAClC,MAAMD,EAAOT,EACbK,IACI,SAAS,MAAQL,IAAeS,GAAMC,EAAkB,CAClE,CAAK,EACE,QAAQZ,CAAM,EAGf,SAAS,OAAS,SAAS,MAAM,OACnC,SAAS,MAAM,MACZ,KAAK,IAAM,CACV,MAAMW,EAAOT,EACbK,EAAQ,EAAI,EACR,SAAS,MAAQL,IAAeS,GAAMC,EAAkB,CACpE,CAAO,EACA,MAAM,IAAM,CAAA,CAAE,EAGnB,OAAO,iBAAiB,OAAQ,IAAM,CACpC,MAAMD,EAAOT,EACbK,EAAQ,EAAI,EACR,SAAS,MAAQL,IAAeS,GAAMC,EAAkB,CAChE,CAAG,EAED,SAASA,GAAqB,CAC5B,GAAI,CAAC,SAAS,MAAQR,EAAc,OACpC,MAAMS,EAAS,SAAS,cAAc,SAAS,IAAI,EACnD,GAAI,CAACA,EAAQ,OAGb,MAAMC,EADOD,EAAO,wBACD,KAAOX,EAAaD,GACnC,KAAK,IAAIa,CAAK,EAAI,GACpB,OAAO,SAAS,CAAE,IAAKA,EAAO,KAAM,EAAG,SAAU,MAAM,CAAE,CAE5D,CAEG,SAAS,MACX,WAAW,IAAMF,IAAsB,GAAG,EAG5C,SAAS,iBAAiB,QAASf,GAAK,CACtC,MAAMkB,EAAIlB,EAAE,OAAO,QAAQ,cAAc,EACzC,GAAI,CAACkB,EAAG,OACR,MAAMC,EAAOD,EAAE,aAAa,MAAM,EAClC,GAAIC,EAAK,QAAU,EAAG,OAEtB,MAAMH,EAAS,SAAS,cAAcG,CAAI,EACrCH,IAELhB,EAAE,eAAc,EAChBO,EAAe,GAEf,WAAW,IAAM,CACfG,IAEA,MAAMO,EADOD,EAAO,wBACD,KAAOX,EAAaD,GACvC,OAAO,SAAS,CAAE,IAAKa,EAAO,KAAM,EAAG,SAAU,QAAQ,CAAE,EAC3D,QAAQ,aAAa,KAAM,GAAIE,CAAI,CACpC,EAAE,EAAE,EACT,CAAG,CACH,GAAI"}